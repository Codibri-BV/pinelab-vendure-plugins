<vdr-data-table-2
  class="mt-2"
  id="stripe-subscription-payment-list"
  [items]="items$ | async"
  [itemsPerPage]="itemsPerPage$ | async"
  [totalItems]="totalItems$ | async"
  [currentPage]="currentPage$ | async"
  [filters]="filters"
  (pageChange)="setPageNumber($event)"
  (itemsPerPageChange)="setItemsPerPage($event)"
>
  <vdr-bulk-action-menu
    [hostComponent]="this"
    [selectionManager]="selectionManager"
  ></vdr-bulk-action-menu>
  <vdr-dt2-search
    [searchTermControl]="searchTermControl"
    [searchTermPlaceholder]="'catalog.filter-by-name' | translate"
  />
  <vdr-dt2-column
    [heading]="'common.id' | translate"
    [hiddenByDefault]="true"
    [sort]="sorts.get('id')"
  >
    <ng-template let-payment="item"> {{ payment.id }} </ng-template>
  </vdr-dt2-column>
  <vdr-dt2-column
    [heading]="'common.created-at' | translate"
    [hiddenByDefault]="true"
    [sort]="sorts.get('createdAt')"
  >
    <ng-template let-payment="item">
      {{ payment.createdAt | localeDate : 'short' }}
    </ng-template>
  </vdr-dt2-column>
  <vdr-dt2-column
    [heading]="'common.updated-at' | translate"
    [hiddenByDefault]="true"
    [sort]="sorts.get('updatedAt')"
  >
    <ng-template let-payment="item">
      {{ payment.updatedAt | localeDate : 'short' }}
    </ng-template>
  </vdr-dt2-column>
  <vdr-dt2-column
    heading="Col. Method"
    [optional]="false"
    [sort]="sorts.get('collectionMethod')"
  >
    <ng-template let-payment="item">
      {{ payment.collectionMethod }}
    </ng-template>
  </vdr-dt2-column>
  <vdr-dt2-column
    heading="Charge"
    [optional]="false"
    [sort]="sorts.get('charge')"
  >
    <ng-template let-payment="item"> {{ payment.charge }} </ng-template>
  </vdr-dt2-column>
  <vdr-dt2-column
    heading="Currency"
    [optional]="false"
    [sort]="sorts.get('currency')"
  >
    <ng-template let-payment="item"> {{ payment.currency }} </ng-template>
  </vdr-dt2-column>
  <vdr-dt2-column
    [heading]="'common.code' | translate"
    [optional]="false"
    [sort]="sorts.get('orderCode')"
  >
    <ng-template let-payment="item"> {{ payment.orderCode }} </ng-template>
  </vdr-dt2-column>
  <vdr-dt2-column heading="Channel" [sort]="sorts.get('channelId')">
    <ng-template let-payment="item">
      <a
        class="button-ghost"
        [routerLink]="['../../channels/',  payment.channelId]"
        ><span>Channel</span>
        <clr-icon shape="arrow right"></clr-icon>
      </a>
    </ng-template>
  </vdr-dt2-column>
  <vdr-dt2-column
    heading="Subscription ID"
    [sort]="sorts.get('subscriptionId')"
  >
    <ng-template let-payment="item"> {{ payment.subscriptionId }} </ng-template>
  </vdr-dt2-column>
</vdr-data-table-2>
