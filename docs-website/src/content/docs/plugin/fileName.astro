---
import { readdir, readFile } from 'fs/promises';
import path from 'path';
import { fileURLToPath } from 'url';
export async function getStaticPaths() {
  const __filename = fileURLToPath(import.meta.url);
  const __dirname = path.dirname(__filename);
  const packagesDirRelativeLocation = '../../../packages';
  const getDirectories = async (source: string) =>
    (await readdir(path.join(__dirname, source), { withFileTypes: true }))
      .filter((dirent) => dirent.isDirectory())
      .map((dirent) => dirent.name);
  const response = await getDirectories(packagesDirRelativeLocation);
  console.log(response);
  return response.map((f) => {
    return { params: { fileName: f } };
  });
}

const { fileName } = Astro.params;
---
